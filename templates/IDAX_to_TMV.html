<!DOCTYPE html>
<html lang="en">
<head>
    <title>My Web Page</title>
    <link rel="stylesheet" href="styles.css">
    <script src="script.js"></script>
</head>
<body>
    <div class="title-panel">
        <img src="Transpo Logo_Web_300.png" class="top-right" style="max-height:50px; max-width:286px;">
    </div>
    <h1>IDAX Counts into TMV</h1>
    
    <form action="/submit" method="POST">
        <input type="hidden" name="csrf_token" id="csrf_token">
        <label for="input3">Time of Day:</label>
        <input type="text" id="input3" name="input3"><br>

        <div class="container-fluid">
        <div class="row">
            <div class="col-md-8">
                <div id="drop_zone" style="border: 2px dashed #ccc; padding: 20px; text-align: center;">
                    Drag and drop a ZIP file containing PDFs and Excel files.
                    <input type="file" id="input1" accept=".zip" style="width: 100%;" multiple="false">
                </div>
                
                <script>
                    const dropZone = document.getElementById('drop_zone');
                    const fileInput = document.getElementById('file_upload');
                
                    dropZone.addEventListener('dragover', (e) => {
                        e.preventDefault();
                        dropZone.style.border = '2px dashed #007BFF';
                    });
                
                    dropZone.addEventListener('dragleave', () => {
                        dropZone.style.border = '2px dashed #ccc';
                    });
                
                    dropZone.addEventListener('drop', (e) => {
                        e.preventDefault();
                        dropZone.style.border = '2px dashed #ccc';
                
                        const files = e.dataTransfer.files;
                        fileInput.files = files;
                
                        // You can now handle the uploaded ZIP file in JavaScript
                        // Extract the ZIP file and process its contents
                        processZipFile(fileInput.files[0]);
                    });
                </script>

    <form method='POST' enctype='multipart/form-data'>
        {{form.hidden_tag()}}
        {{form.file()}}
        {{form.submit()}}
    </form>
            
                <button id="download_btn">Download Uploaded File</button>
                <div id="file_info"></div>
            </div>
        </div>
    </div>

        <input type="submit" value="Run">
    </form>
</body>
</html>

